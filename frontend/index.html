<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rust vs JS Compute Race</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/src/style.css" />
  </head>
  <body>
    <div id="app">
      <header>
        <h1>‚ö° Compute Race</h1>
        <p class="tagline">JavaScript vs Rust/WASM ‚Äî Multiple Benchmarks</p>
      </header>

      <main>
        <!-- Computation Selector -->
        <section class="computation-selector">
          <button class="comp-btn active" data-comp="mandelbrot">
            <span class="comp-icon">üåÄ</span>
            <span class="comp-name">Mandelbrot</span>
          </button>
          <button class="comp-btn" data-comp="primes">
            <span class="comp-icon">üî¢</span>
            <span class="comp-name">Prime Sieve</span>
          </button>
          <button class="comp-btn" data-comp="matrix">
            <span class="comp-icon">üìä</span>
            <span class="comp-name">Matrix Multiply</span>
          </button>
          <button class="comp-btn" data-comp="blur">
            <span class="comp-icon">üå´Ô∏è</span>
            <span class="comp-name">Image Blur</span>
          </button>
        </section>

        <!-- Mandelbrot Controls -->
        <section class="controls" id="mandelbrot-controls">
          <div class="control-row">
            <div class="input-group">
              <label for="resolution">Resolution</label>
              <select id="resolution">
                <option value="256">256 √ó 256</option>
                <option value="512">512 √ó 512</option>
                <option value="768" selected>768 √ó 768</option>
                <option value="1024">1024 √ó 1024</option>
              </select>
            </div>
            <div class="input-group">
              <label for="iterations">Max Iterations</label>
              <input type="number" id="iterations" value="1000" min="50" max="5000" step="100" />
            </div>
            <div class="input-group">
              <label for="zoom">Zoom</label>
              <input type="number" id="zoom" value="1" min="0.1" max="1000000" step="0.5" />
            </div>
          </div>
          <div class="control-row">
            <div class="input-group">
              <label for="center-x">Center X</label>
              <input type="number" id="center-x" value="-0.5" step="0.1" />
            </div>
            <div class="input-group">
              <label for="center-y">Center Y</label>
              <input type="number" id="center-y" value="0" step="0.1" />
            </div>
            <button id="run-mandelbrot-btn" class="btn-primary">üöÄ Render Both</button>
          </div>
          <div class="presets">
            <span class="preset-label">Presets:</span>
            <button class="btn-preset" data-x="-0.5" data-y="0" data-zoom="1">Overview</button>
            <button class="btn-preset" data-x="-0.7435" data-y="0.1314" data-zoom="200">Spiral</button>
            <button class="btn-preset" data-x="-0.16" data-y="1.0405" data-zoom="50">Seahorse</button>
            <button class="btn-preset" data-x="0.42884" data-y="-0.231345" data-zoom="1000">Deep Zoom</button>
          </div>
        </section>

        <!-- Prime Sieve Controls -->
        <section class="controls hidden" id="primes-controls">
          <div class="control-row">
            <div class="input-group">
              <label for="prime-limit">Find primes up to</label>
              <select id="prime-limit">
                <option value="1000000">1 Million</option>
                <option value="10000000" selected>10 Million</option>
                <option value="50000000">50 Million</option>
                <option value="100000000">100 Million</option>
              </select>
            </div>
            <button id="run-primes-btn" class="btn-primary">üöÄ Run Both</button>
          </div>
        </section>

        <!-- Matrix Multiply Controls -->
        <section class="controls hidden" id="matrix-controls">
          <div class="control-row">
            <div class="input-group">
              <label for="matrix-size">Matrix Size (N√óN)</label>
              <select id="matrix-size">
                <option value="128">128 √ó 128</option>
                <option value="256">256 √ó 256</option>
                <option value="512" selected>512 √ó 512</option>
                <option value="768">768 √ó 768</option>
                <option value="1024">1024 √ó 1024</option>
              </select>
            </div>
            <button id="run-matrix-btn" class="btn-primary">üöÄ Run Both</button>
          </div>
          <p class="control-hint">Multiplies two random N√óN matrices (N¬≥ operations)</p>
        </section>

        <!-- Image Blur Controls -->
        <section class="controls hidden" id="blur-controls">
          <div class="control-row">
            <div class="input-group">
              <label for="blur-size">Image Size</label>
              <select id="blur-size">
                <option value="256">256 √ó 256</option>
                <option value="512" selected>512 √ó 512</option>
                <option value="768">768 √ó 768</option>
                <option value="1024">1024 √ó 1024</option>
              </select>
            </div>
            <div class="input-group">
              <label for="blur-radius">Blur Radius</label>
              <select id="blur-radius">
                <option value="3">3 (light)</option>
                <option value="5" selected>5 (medium)</option>
                <option value="10">10 (heavy)</option>
                <option value="15">15 (very heavy)</option>
              </select>
            </div>
            <button id="run-blur-btn" class="btn-primary">üöÄ Run Both</button>
          </div>
          <p class="control-hint">Box blur with (2r+1)¬≤ kernel samples per pixel</p>
        </section>

        <section class="status">
          <div id="status-message">Ready to compute</div>
        </section>

        <!-- Mandelbrot Results -->
        <section class="render-area" id="mandelbrot-results">
          <div class="render-card js-card">
            <div class="card-header">
              <span class="lang-icon">JS</span>
              <h2>JavaScript</h2>
              <span class="time-badge" id="js-time-badge">‚Äî</span>
            </div>
            <div class="canvas-container">
              <canvas id="js-canvas" width="512" height="512"></canvas>
            </div>
          </div>

          <div class="render-card rust-card">
            <div class="card-header">
              <span class="lang-icon">ü¶Ä</span>
              <h2>Rust/WASM</h2>
              <span class="time-badge" id="rust-time-badge">‚Äî</span>
            </div>
            <div class="canvas-container">
              <canvas id="rust-canvas" width="512" height="512"></canvas>
            </div>
          </div>
        </section>

        <!-- Prime Sieve Results -->
        <section class="results-area hidden" id="primes-results">
          <div class="result-card js-card">
            <div class="card-header">
              <span class="lang-icon">JS</span>
              <h2>JavaScript</h2>
              <span class="time-badge" id="js-primes-time">‚Äî</span>
            </div>
            <div class="result-content">
              <div class="big-number" id="js-prime-count">‚Äî</div>
              <div class="result-label">primes found</div>
            </div>
          </div>

          <div class="result-card rust-card">
            <div class="card-header">
              <span class="lang-icon">ü¶Ä</span>
              <h2>Rust/WASM</h2>
              <span class="time-badge" id="rust-primes-time">‚Äî</span>
            </div>
            <div class="result-content">
              <div class="big-number" id="rust-prime-count">‚Äî</div>
              <div class="result-label">primes found</div>
            </div>
          </div>
        </section>

        <!-- Matrix Multiply Results -->
        <section class="results-area hidden" id="matrix-results">
          <div class="result-card js-card">
            <div class="card-header">
              <span class="lang-icon">JS</span>
              <h2>JavaScript</h2>
              <span class="time-badge" id="js-matrix-time">‚Äî</span>
            </div>
            <div class="result-content">
              <div class="big-number" id="js-matrix-ops">‚Äî</div>
              <div class="result-label">operations</div>
            </div>
          </div>

          <div class="result-card rust-card">
            <div class="card-header">
              <span class="lang-icon">ü¶Ä</span>
              <h2>Rust/WASM</h2>
              <span class="time-badge" id="rust-matrix-time">‚Äî</span>
            </div>
            <div class="result-content">
              <div class="big-number" id="rust-matrix-ops">‚Äî</div>
              <div class="result-label">operations</div>
            </div>
          </div>
        </section>

        <!-- Image Blur Results -->
        <section class="render-area hidden" id="blur-results">
          <div class="render-card js-card">
            <div class="card-header">
              <span class="lang-icon">JS</span>
              <h2>JavaScript</h2>
              <span class="time-badge" id="js-blur-time">‚Äî</span>
            </div>
            <div class="canvas-container">
              <canvas id="js-blur-canvas" width="512" height="512"></canvas>
            </div>
          </div>

          <div class="render-card rust-card">
            <div class="card-header">
              <span class="lang-icon">ü¶Ä</span>
              <h2>Rust/WASM</h2>
              <span class="time-badge" id="rust-blur-time">‚Äî</span>
            </div>
            <div class="canvas-container">
              <canvas id="rust-blur-canvas" width="512" height="512"></canvas>
            </div>
          </div>
        </section>

        <section class="summary" id="summary" hidden>
          <div class="winner-badge" id="winner-badge"></div>
          <p id="summary-text"></p>
        </section>
      </main>

      <footer>
        <p id="footer-hint">Click on a canvas to zoom in at that point</p>
      </footer>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
